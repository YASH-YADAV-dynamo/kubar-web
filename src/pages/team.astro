---
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import teamData from '../data/team.json';

const members = teamData.members ?? [];
const founder = members.find((member) => member.name === 'Vaibhav Sharma');
const roster = members.filter((member) => member.name !== founder?.name);
---

<BaseLayout title="Team â€” Kubar Labs" description="Meet the Kubar Labs team accelerating MSME credit intelligence across India.">
  <Header />
  <main class="team-page">
    <section class="team-hero">
      <div class="container">
        <div class="hero-card">
          <div class="hero-copy">
            <h1>Meet the Team</h1>
            <p>
              Kubar Labs blends credit operations, data science, and policy expertise to automate MSME lending. Our founder and
              advisors have shipped DeFi security solutions, architected CBDC platforms, and led lending innovation across India and beyond.
            </p>
          </div>
          {founder && (
            <div class="hero-founder">
              <div class="founder-avatar">
                <img src={founder.image} alt={founder.name} />
              </div>
              <div class="founder-body">
                <h2>{founder.name}</h2>
                <p>{founder.role}</p>
              </div>
            </div>
          )}
        </div>
      </div>
    </section>
    <section class="team-roster" id="team">
      <div class="container">
        <header class="roster-header">
          <h2>The crew building Kubar Labs</h2>
          <p>Our collective brings lending, data science, policy, and storytelling together so MSMEs get credit that actually works.</p>
        </header>
        <div class="roster-grid">
          {roster.map((member) => (
            <article class="member-card">
              <div class="member-avatar" style={{ borderColor: member.accentColor }}>
                <img src={member.image} alt={member.name} loading="lazy" />
              </div>
              <h3>{member.name}</h3>
              <p>{member.role}</p>
            </article>
          ))}
        </div>
      </div>
    </section>
  </main>
  <Footer />
</BaseLayout>

<style>
  .team-page {
    background: var(--color-background);
  }

  .team-hero {
    padding: calc(var(--spacing-3xl) + 2rem) 0 var(--spacing-2xl);
    background: linear-gradient(135deg, rgba(31, 76, 242, 0.18), rgba(15, 141, 104, 0.12));
  }

  .hero-card {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: var(--spacing-2xl);
    background: rgba(16, 16, 16, 0.85);
    border: 1px solid var(--color-border);
    border-radius: 24px;
    padding: var(--spacing-2xl);
    backdrop-filter: blur(12px);
  }

  .hero-copy h1 {
    font-size: clamp(2.5rem, 4vw, 3.5rem);
    margin-bottom: var(--spacing-md);
  }

  .hero-copy p {
    font-size: 1.125rem;
    color: var(--color-text-secondary);
    line-height: 1.8;
    max-width: 620px;
  }

  .hero-founder {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    background: var(--color-surface);
    border: 1px solid var(--color-border);
    border-radius: 18px;
    padding: var(--spacing-xl);
  }

  .founder-avatar {
    width: 128px;
    height: 128px;
    border-radius: 50%;
    overflow: hidden;
    border: 4px solid var(--color-primary);
    margin-bottom: var(--spacing-md);
  }

  .founder-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .founder-body {
    display: grid;
    gap: 0.35rem;
  }

  .founder-body h2 {
    font-size: 1.5rem;
    margin: 0;
  }

  .founder-body p {
    color: var(--color-text-secondary);
    margin: 0;
  }

  .team-roster {
    padding: var(--spacing-3xl) 0;
  }

  .roster-header {
    text-align: center;
    max-width: 720px;
    margin: 0 auto var(--spacing-2xl);
    display: grid;
    gap: var(--spacing-md);
  }

  /* roster-badge removed */

  .roster-header h2 {
    font-size: clamp(2.25rem, 4vw, 2.85rem);
    color: var(--color-text-primary);
  }

  .roster-header p {
    color: var(--color-text-secondary);
    line-height: 1.7;
  }

  .roster-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: var(--spacing-xl);
  }

  .member-card {
    background: var(--color-surface);
    border: 1px solid var(--color-border);
    border-radius: 18px;
    padding: var(--spacing-xl);
    transition: transform var(--transition-base), border-color var(--transition-base);
  }

  .member-card:hover {
    transform: translateY(-6px);
    border-color: rgba(31, 76, 242, 0.4);
  }

  .member-avatar {
    width: 96px;
    height: 96px;
    border-radius: 18px;
    overflow: hidden;
    border: 3px solid var(--color-primary);
    margin-bottom: var(--spacing-md);
    background: var(--color-surface-elevated);
  }

  .member-avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .member-card h3 {
    font-size: 1.25rem;
    color: var(--color-text-primary);
    margin-bottom: 0.5rem;
  }

  .member-card p {
    font-size: 0.95rem;
    color: var(--color-text-secondary);
    line-height: 1.6;
  }

  @media (max-width: 960px) {
    .hero-card {
      grid-template-columns: 1fr;
    }
  }

  @media (max-width: 640px) {
    .roster-grid {
      gap: var(--spacing-lg);
    }

    .member-card {
      padding: var(--spacing-lg);
    }
  }
</style>
